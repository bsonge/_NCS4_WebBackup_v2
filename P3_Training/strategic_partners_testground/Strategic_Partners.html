<style>

  /* MEAT AND POTATOES*/

  .f-row {
    height: 250px;
    /* padding-left: 20px; */
    /* padding-right: 20px;
    overflow-y: initial; */
  }

  .f-col {
    -webkit-flex: 1;
    -ms-flex: 1;
    flex: 1;
  }

  .f-cell {
    border: 1px solid grey;
    display: table-cell;
    -webkit-flex: 3;
    -ms-flex: 3;
    flex: 3;
    -moz-transition: max-height .3s ease-in-out;
    -webkit-transition: max-height .3s ease-in-out;
    -o-transition: max-height .3s ease-in-out;
    overflow: hidden;
  }

  .panel_sub {
    -moz-transition: max-height .3s ease-in-out;
    -webkit-transition: max-height .3s ease-in-out;
    -o-transition: max-height .3s ease-in-out;
    transition: max-height .3s ease-in-out;
    overflow: hidden;
    height: 100%;
    /* padding-bottom: 10px; */
  }
  /* CONTENT HIDING */

  .content_t {
    opacity: 0;
    -moz-transition: all 2s ease-in-out;
    -webkit-transition: all 2s ease-in-out;
    -o-transition: all 2s ease-in-out;
    transition: all 2s ease-in-out;
  }

  .active_sub {
    display: flex !important;
    opacity: 1;
    -moz-transition: all 2s ease-in-out;
    -webkit-transition: all 2s ease-in-out;
    -o-transition: all 2s ease-in-out;
    transition: all 2s ease-in-out;
  }
  /* IMAGES */

  .imgcol {
    -webkit-flex: 1;
    -ms-flex: 1;
    flex: 1;
    flex: 1;
    min-width: 160px;
    width: 15%;
  }

  .imgholder {
    height: 100%;
    width: 100%;
    position: relative;
    cursor: pointer;
  }

  .flex-tablewrap img {
    max-height: 175px;
    max-width: 300px;
    height: auto;
    width: 90%;
    padding-left: 5%;
    padding-right: 5%;
    margin: auto;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }

  .sidecol img {
    height: 100px;
    padding: 20px;
  }
  /*  TEXT FORMATTING  */

  a.f-cell {
    text-decoration: none;
    text-align: center;
  }

  a.f-cell.bigger:hover {
    color: white;
  }

  a.f-cell.big:hover {
    color: inherit;
  }

  .flex-tablewrap h3 {
    text-align: center;
    font-size: 2em;
  }

  .big {
    color: black;
    font-size: 1.5em;
    text-align: center;
  }
  /*
.big:nth-last-child(n+2){
  border-right: 1px solid black;
}*/

  .bigger {
    color: white;
    font-size: 2em;
    text-align: center;
    background-color: grey;
  }
  /*  ETC  */

  .desccol {
    padding-left: 20px;
    padding-right: 20px;
    overflow-y: initial;
    padding-bottom: 20px;
  }

  .subtable {
    padding: 20px;
  }

  @media (max-width: 600px) {
    .f-col.holder {
      border: 2px solid black;
      /* -webkit-flex-direction: row;
      flex-direction: row; */
      max-height: 100vh;
    }
    .f-row {
      -webkit-flex-direction: column;
      flex-direction: column;
      height: 290px;
    }
    .flex-tablewrap img {
      height: auto;
      max-width: 300px;
      max-height: 54px;
      width: auto;
      padding-left: 5%;
      padding-right: 5%;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      margin: auto;
    }
  }
  /*
transition: property duration timing-function delay|initial|inherit;
*/
  /* .variable{
  display: none;
  height: 400px;
} */

</style>
<!-- CONTENT 1 -->
<div class="flex-tablewrap">
  <!--  -->
  <div class="f-col holder">
    <div class="f-row">
      <div id="1" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="2" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="3" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
    </div>
    <div id="panel_1" style="max-height: 0px;" class="f-row panel_sub">
      <div class="f-cell desccol">
        <div class="textarea">
          <h3 style="text-align: center;"></h3>
        </div>
        <span class="desc"> </span></div>
    </div>
  </div>
  <div class="f-col holder">
    <div class="f-row content_t active_sub">
      <div id="4" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="5" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="6" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
    </div>
    <div id="panel_2" style="max-height: 0px;" class="f-row panel_sub">
      <div class="f-cell desccol">
        <div class="textarea">
          <h3 style="text-align: center;"></h3>
        </div>
        <span class="desc"> </span></div>
    </div>
  </div>
  <div class="f-col holder">
    <div class="f-row content_t active_sub">
      <div id="7" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="8" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
      <div id="9" class="f-cell corpimg">
        <p class="imgholder"><img alt="" /></p>
      </div>
    </div>
    <div id="panel_3" style="max-height: 0px;" class="f-row panel_sub">
      <div class="f-cell desccol">
        <div class="textarea">
          <h3 style="text-align: center;"></h3>
        </div>
        <span class="desc"> </span></div>
    </div>
  </div>
</div>
<script>
  // <![CDATA[
  var companies = [{
    "name": "Axis Communications",
    "desc": "Axis Communications offers intelligent security solutions that enable a smarter, safer world. As the market leader in network video, Axis is driving the industry by continually launching innovative network products based on an open platform - delivering high value to customers through a global partner network. Axis has long-term relationships with partners and provides them with knowledge as well as ground-breaking network products in existing and new markets. Axis has more than 2,700 dedicated employees in more than 50 countries around the world and is supported by a global network of over 90,000 partners.",
    "web": "https://www.axis.com/us/en",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/Axis_logo_rgb.png"
  }, {
    "name": "Babel Street",
    "desc": "Babel Street is a provider of advanced multi-lingual search and analytics software solutions. The company provides customers with the ability to identify, analyze, and report on potential and ongoing impacts to their organization. Through Babel Street’s world-class technology, users access and analyze millions of multi-lingual and geo-enabled, publicly available data sources in more than 200 languages at near real-time. By delivering this wealth of information in a single pane of glass, Babel Street helps organizations coordinate research across teams and identify patterns and risks earlier, while also reducing the time and number of tools needed to create actionable insights. The company currently serves many of the world’s leading brands in financial services, transportation, entertainment, sports, higher education, hospitality, and government.",
    "web": "https://www.babelstreet.com/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/babel_street_logo.png"
  }, {
    "name": "CEIA",
    "desc": "CEIA is a world leading manufacturing company specialized in the design, engineering and production of Metal Detectors and Electromagnetic Inspection Devices.  CEIA event security solutions include metal detectors that comply with the strictest security standards and provide unmatched reliability, immunity to environmental interference and consistency for the detection of all the metal objects that could be considered a threat to individuals and their safety. Dynamic solutions and exceptional service are the foundation of CEIA’s commitment to customer satisfaction.",
    "web": "http://www.ceia.net/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/ceia_logo.png"

  }, {
    "name": "Dell EMC",
    "desc": "Dell EMC, a part of Dell Technologies, enables organizations to modernize, automate and transform their data center using industry-leading converged infrastructure, servers, storage and data protection technologies. This provides a trusted foundation for businesses to transform IT, through the creation of a hybrid cloud, and transform their business through the creation of cloud-native applications and big data solutions. Dell EMC services customers across 180 countries – including 98% of the Fortune 500 – with the industry’s most comprehensive and innovative portfolio from edge to core to cloud.",
    "web": "https://www.dellemc.com/en-us/index.htm",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/dell_emc_logo.png"

  }, {
    "name": "Johnson Controls",
    "desc": "Johnson Controls’ Building Technologies & Solutions is making the world safer, smarter and more sustainable – one building at a time. Our technology portfolio integrates every aspect of a building – whether security systems, energy management, fire suppression or HVACR – to ensure that we exceed customer expectations at all times. We help building owners, operators, engineers and contractors enhance the full lifecycle of any facility. Our arsenal of brands includes some of the most trusted names in the industry, such as Tyco®, YORK®, Metasys®, Ruskin®, Frick®, PENN®, Sabroe®, Simplex® and Grinnell®.",
    "web": "http://www.johnsoncontrols.com/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/jci_logo.png"

  }, {
    "name": "Microsoft",
    "desc": "Microsoft helps first responders improve the safety and security of communities through reliable, compliant, and scalable solutions. These solutions are built collectively by customers, partners, and Microsoft. Microsoft helps public safety leaders understand and manage their organizations in the digital age by engaging citizens, empowering personnel, transforming services, and optimizing operations. Agencies can use the call center and dispatch solution to help process data from a broad range of sources and share it in real time with first responders. First responders can experience the digital patrol solution which enables faster response to incidents, more effective policing, and enhanced crime analysis. ",
    "web": "https://www.microsoft.com/en-us/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/microsoft-logo.png"

  }, {
    "name": "IDEMIA",
    "desc": "At IDEMIA, our mission is to create a safe and simple future where identity verification is indisputable and only you can assert your identity. As a trusted partner to U.S. government agencies for more than 50 years, our deep domain expertise in civil identity, public security, commercial markets and biometric identification and document authentication is second to none. These strengths, paired with our unparalleled relationships and pioneering approach to in-person identity resolution and proofing, make us the leading provider of best-in-class solutions for civil and commercial transactions. ",
    "web": "https://www.idemia.com/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/Idemia_Logo_2000px.jpg"

  }, {
    "name": "NEC Corporation of America (NEC)",
    "desc": "NEC Corporation of America (NEC) is a leading biometrics, IT and communications technology integrator providing solutions that improve the way people work, live and communicate. With more than 150 public and private biometrics implementations in over 30 countries, NEC has established partnerships at the federal, state and local agency level in more than 21 U.S. states. NEC Corporation of America is a wholly owned subsidiary of NEC Corporation, a global technology leader with a presence in 160 countries and $25 billion in revenues.",
    "web": "https://www.necam.com/AdvancedRecognitionSystems/",
    "logo": "https://higherlogicdownload.s3.amazonaws.com/NCS4/9c6c4d55-e531-4334-a8e4-aa15c3ebd848/UploadedImages/Corporate%20Logos/Strategic_Partners/neclogo.png"

  }]

  var prev;
  $(document).ready(function() {
    $(".imgholder>img").each(function(i) {
      if (companies[i] != null) {
        console.log(companies[i].logo);
        $(this).attr("src", companies[i].logo);
      }
    })
  });
  // const DEF_HEIGHT = $('.f-row').css("height");
  const DEF_HEIGHT = "400px";


  $(".corpimg").on("click", function() {
    //values init
    let idnum = parseInt($(this).attr('id'));

    if (idnum !== prev) {
      prev = idnum; //note: implement pushing the same button retracts when you have time

      let panelnum = Math.ceil(idnum / 3)
      let panel = "#panel_" + panelnum;

      if (companies[idnum - 1] != null) {
        //color adjust
        $(".corpimg").each(function() {
          $(this).css("background-color", "white")
        });
        $(this).css("background-color", "lightblue")
          //slide out
        $(".panel_sub").each(function() {
          // $(this).attr("style", "display: none; transform: translateY(-" + DEF_HEIGHT + "px)");
          $(this).attr("opacity", "0");
          $(this).attr("style", "max-height: 0px;");
        });

        $(panel).attr("opacity", "1");
        $(panel).attr("style", "max-height: " + DEF_HEIGHT.toString());


        //set html
        $(panel + " h3").text(companies[idnum - 1].name);
        $(panel + " span.desc").html(
          companies[idnum - 1].desc + '<br /><br /> <strong>Website: </strong> <a href="' + companies[idnum - 1].web + '">' + companies[idnum - 1].web + '</a>'
        );
      }
    } else {

    }

  });



  /////////////////////////////////////////////////////////

  $(".corpimg").on("click", function() {
    var btn = $(this);
    btn.prop('disabled', true); //lock button until finished

    let idnum = parseInt($(this).attr('id'));
    let panelnum = Math.ceil(idnum / 3)
    let panel = "#panel_" + panelnum;

    if (companies[idnum - 1] != null) {
      //color adjust
      $(".corpimg").each(function() {
        $(this).css("background-color", "white")
      });
      $(this).css("background-color", "lightblue")
        //slide out
      $(".panel_sub").each(function() {
        // $(this).attr("style", "display: none; transform: translateY(-" + DEF_HEIGHT + "px)");
        $(this).attr("opacity", "0");
        $(this).attr("style", "max-height: 0px;");
      });

      $(panel).attr("opacity", "1");
      $(panel).attr("style", "max-height: " + DEF_HEIGHT.toString());


      //set html
      $(panel + " h3").text(companies[idnum - 1].name);
      $(panel + " span.desc").html(
        companies[idnum - 1].desc + '<br /><br /> <strong>Website: </strong> <a href="' + companies[idnum - 1].web + '">' + companies[idnum - 1].web + '</a>'
      );
    }


    // console.log(p, portalMaps[p]);
    $("#panel").css("opacity", "0");
    if (prev === p) { //if first+n time, check if prev is the same as current, if so close the header and do nothing, prev=null
      prev = null;
      $("div.Portal-Spacer").css("height", "217px")
      $("#panel").css("height", "0px");
      $("#p_info").css("top", "0px"); //this gets in the way for some reason
      btn.prop('disabled', false);
      return;
    } else if (prev === null) { //if first time, assign p and continue
      prev = p;
    }

    $("div.Portal-Spacer").css("height", "517px")
    $("#panel").css("height", "300px");
    $("#p_info").css("top", "-85px");
    setTimeout(function() {

      $("#panel").css("opacity", "1");
      $("#panel").css("background-color", portalMaps[p].color);
      $("h3#p_header").text(portalMaps[p].title);
      $("#p_desc").text(portalMaps[p].desc);
      btn.prop('disabled', false);
    }, 500)
    prev = p;
  });


  // $( "div.f-cell.corpimg" ).on( "click", function(){
  //   console.log( $( this ));
  // });
  // ]]>
</script>
